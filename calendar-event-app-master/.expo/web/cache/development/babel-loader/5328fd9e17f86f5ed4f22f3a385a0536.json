{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactNative = require(\"react-native\");\nvar _reactNativeSafeAreaContext = require(\"react-native-safe-area-context\");\nvar _components = require(\"./components\");\nvar _navigation = require(\"./navigation\");\nvar _BottomNav = _interopRequireDefault(require(\"./navigation/BottomNav\"));\nvar Calendar = _interopRequireWildcard(require(\"expo-calendar\"));\nvar _AuthStack = _interopRequireDefault(require(\"./navigation/AuthStack\"));\nvar _ClientStack = _interopRequireDefault(require(\"./navigation/ClientStack\"));\nvar _screens = require(\"./screens\");\nvar _native = require(\"@react-navigation/native\");\nvar _store = require(\"./store\");\nvar _asyncStorage = _interopRequireDefault(require(\"@react-native-async-storage/async-storage\"));\nvar _this = this,\n  _jsxFileName = \"E:\\\\work\\\\PK WORK\\\\calendar-event-app-master\\\\calendar-event-app-master\\\\src\\\\index.js\";\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nvar App = function App() {\n  var _useStore = (0, _store.useStore)(function (state) {\n      return {\n        isAuth: state.isAuth,\n        role: state.role\n      };\n    }),\n    isAuth = _useStore.isAuth,\n    role = _useStore.role;\n  (0, _react.useEffect)(function _callee() {\n    var user, parsedUser;\n    return _regenerator.default.async(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regenerator.default.awrap(_askForCalendarPermissions());\n        case 2:\n          _context.next = 4;\n          return _regenerator.default.awrap(_askForReminderPermissions());\n        case 4:\n          _reactNative.StatusBar.pushStackEntry({\n            animated: true,\n            barStyle: \"dark-content\"\n          });\n          _context.next = 7;\n          return _regenerator.default.awrap(_asyncStorage.default.getItem(\"user\"));\n        case 7:\n          user = _context.sent;\n          if (user !== null) {\n            parsedUser = JSON.parse(user);\n            set({\n              isAuth: parsedUser == null ? void 0 : parsedUser.isAuth,\n              role: parsedUser == null ? void 0 : parsedUser.role\n            });\n          }\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }, null, null, null, Promise);\n  }, []);\n  var _askForCalendarPermissions = function _callee2() {\n    var _await$Calendar$reque, status, calendars;\n    return _regenerator.default.async(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _regenerator.default.awrap(Calendar.requestCalendarPermissionsAsync());\n        case 2:\n          _await$Calendar$reque = _context2.sent;\n          status = _await$Calendar$reque.status;\n          if (!(status === \"granted\")) {\n            _context2.next = 10;\n            break;\n          }\n          _context2.next = 7;\n          return _regenerator.default.awrap(Calendar.getCalendarsAsync(Calendar.EntityTypes.EVENT));\n        case 7:\n          calendars = _context2.sent;\n          console.log(\"Here are all your calendars:\");\n          console.log({\n            calendars: calendars\n          });\n        case 10:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, null, null, null, Promise);\n  };\n  var _askForReminderPermissions = function _callee3() {\n    var _await$Calendar$reque2, status, calendars;\n    return _regenerator.default.async(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          if (!(_reactNative.Platform.OS === \"android\")) {\n            _context3.next = 2;\n            break;\n          }\n          return _context3.abrupt(\"return\", true);\n        case 2:\n          _context3.next = 4;\n          return _regenerator.default.awrap(Calendar.requestRemindersPermissionsAsync());\n        case 4:\n          _await$Calendar$reque2 = _context3.sent;\n          status = _await$Calendar$reque2.status;\n          if (!(status === \"granted\")) {\n            _context3.next = 10;\n            break;\n          }\n          _context3.next = 9;\n          return _regenerator.default.awrap(Calendar.getRemindersPermissionsAsync(Calendar.EntityTypes.REMINDER));\n        case 9:\n          calendars = _context3.sent;\n        case 10:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, null, null, null, Promise);\n  };\n  return _react.default.createElement(_reactNativeSafeAreaContext.SafeAreaProvider, {\n    style: {\n      backgroundColor: \"#2196f3\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_components.AppWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, isAuth && role == \"admin\" && _react.default.createElement(_BottomNav.default, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 39\n    }\n  }), isAuth && role != \"admin\" && _react.default.createElement(_ClientStack.default, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 39\n    }\n  }), !isAuth && _react.default.createElement(_AuthStack.default, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  })));\n};\nvar _default = App;\nexports.default = _default;","map":{"version":3,"names":["App","useStore","state","isAuth","role","useEffect","_askForCalendarPermissions","_askForReminderPermissions","StatusBar","pushStackEntry","animated","barStyle","AsyncStorage","getItem","user","parsedUser","JSON","parse","set","Calendar","requestCalendarPermissionsAsync","status","getCalendarsAsync","EntityTypes","EVENT","calendars","console","log","Platform","OS","requestRemindersPermissionsAsync","getRemindersPermissionsAsync","REMINDER","backgroundColor"],"sources":["E:/work/PK WORK/calendar-event-app-master/calendar-event-app-master/src/index.js"],"sourcesContent":["import React, { Component, useEffect, useState } from \"react\";\nimport { Platform, StatusBar } from \"react-native\";\nimport { SafeAreaProvider } from \"react-native-safe-area-context\";\nimport { AppWrapper } from \"@calendar/components\";\nimport { CalendarNavigation } from \"@calendar/navigation\";\nimport BottomNav from \"./navigation/BottomNav\";\nimport * as Calendar from \"expo-calendar\";\nimport AuthStack from \"./navigation/AuthStack\";\nimport ClientStack from \"./navigation/ClientStack\";\n\nimport {\n  CreateTask,\n  Home,\n  Login,\n  SignUp,\n  Profile,\n  AnimatedFlatList,\n} from \"@calendar/screens\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { useStore } from \"@calendar/store\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nconst App = () => {\n  const { isAuth, role } = useStore((state) => ({\n    isAuth: state.isAuth,\n    role: state.role,\n  }));\n  // async componentDidMount() {\n  //   await this._askForCalendarPermissions();\n  //   await this._askForReminderPermissions();\n\n  //   StatusBar.pushStackEntry({\n  //     animated: true,\n  //     barStyle: \"dark-content\",\n  //   });\n  // }\n\n  useEffect(async () => {\n    await _askForCalendarPermissions();\n    await _askForReminderPermissions();\n\n    StatusBar.pushStackEntry({\n      animated: true,\n      barStyle: \"dark-content\",\n    });\n    const user = await AsyncStorage.getItem(\"user\");\n    if (user !== null) {\n      let parsedUser = JSON.parse(user);\n      set({ isAuth: parsedUser?.isAuth, role: parsedUser?.role });\n    }\n  }, []);\n\n  const _askForCalendarPermissions = async () => {\n    const { status } = await Calendar.requestCalendarPermissionsAsync();\n    if (status === \"granted\") {\n      const calendars = await Calendar.getCalendarsAsync(\n        Calendar.EntityTypes.EVENT,\n      );\n      console.log(\"Here are all your calendars:\");\n      console.log({ calendars });\n    }\n  };\n\n  const _askForReminderPermissions = async () => {\n    if (Platform.OS === \"android\") {\n      return true;\n    }\n\n    const { status } = await Calendar.requestRemindersPermissionsAsync();\n    if (status === \"granted\") {\n      const calendars = await Calendar.getRemindersPermissionsAsync(\n        Calendar.EntityTypes.REMINDER,\n      );\n      // console.log(\"Here are all your calendars:\");\n      // console.log({ calendars });\n    }\n  };\n  return (\n    <SafeAreaProvider style={{ backgroundColor: \"#2196f3\" }}>\n      <AppWrapper>\n        {/* <BottomNav /> */}\n        {/* <AuthStack /> */}\n        {isAuth && role == \"admin\" && <BottomNav />}\n        {isAuth && role != \"admin\" && <ClientStack />}\n\n        {!isAuth && <AuthStack />}\n      </AppWrapper>\n    </SafeAreaProvider>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}