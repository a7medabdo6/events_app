{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _xdate = _interopRequireDefault(require(\"xdate\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactNative = require(\"react-native\");\nvar _services = require(\"../../services\");\nvar _interface = require(\"../../interface\");\nvar _dateutils = require(\"../../dateutils\");\nvar _commons = require(\"../commons\");\nvar _style = _interopRequireDefault(require(\"../style\"));\nvar _index = _interopRequireDefault(require(\"./index\"));\nvar _this = this,\n  _jsxFileName = \"E:\\\\work\\\\PK WORK\\\\calendar-event-app-master\\\\calendar-event-app-master\\\\node_modules\\\\react-native-calendars\\\\src\\\\expandableCalendar\\\\Context\\\\todayButton.js\";\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nvar TOP_POSITION = 65;\nvar DOWN_ICON = require(\"../../img/down.png\");\nvar UP_ICON = require(\"../../img/up.png\");\nvar TodayButton = function TodayButton(props, ref) {\n  (0, _react.useImperativeHandle)(ref, function () {\n    return {\n      disable: function disable(shouldDisable) {\n        _disable(shouldDisable);\n      }\n    };\n  });\n  var _props$margin = props.margin,\n    margin = _props$margin === void 0 ? 0 : _props$margin,\n    _props$disabledOpacit = props.disabledOpacity,\n    disabledOpacity = _props$disabledOpacit === void 0 ? 0.3 : _props$disabledOpacit,\n    theme = props.theme,\n    propsStyle = props.style;\n  var _useContext = (0, _react.useContext)(_index.default),\n    date = _useContext.date,\n    setDate = _useContext.setDate;\n  var _useState = (0, _react.useState)(false),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    disabled = _useState2[0],\n    setDisabled = _useState2[1];\n  var style = (0, _react.useRef)((0, _style.default)(theme));\n  var state = (0, _dateutils.isToday)(date) ? 0 : (0, _dateutils.isPastDate)(date) ? -1 : 1;\n  var shouldShow = state !== 0;\n  (0, _react.useEffect)(function () {\n    if (shouldShow) {\n      setButtonIcon(getButtonIcon());\n    }\n    animatePosition();\n  }, [state]);\n  (0, _react.useEffect)(function () {\n    if (!shouldShow) {\n      return;\n    }\n    animateOpacity();\n  }, [disabled]);\n  var _disable = function _disable(shouldDisable) {\n    if (shouldDisable !== disabled) {\n      setDisabled(shouldDisable);\n    }\n  };\n  var getFormattedLabel = function getFormattedLabel() {\n    var todayStr = (0, _services.getDefaultLocale)().today || _commons.todayString;\n    var today = todayStr.charAt(0).toUpperCase() + todayStr.slice(1);\n    return today;\n  };\n  var today = (0, _react.useRef)(getFormattedLabel());\n  var getButtonIcon = function getButtonIcon() {\n    if (shouldShow) {\n      return state === 1 ? UP_ICON : DOWN_ICON;\n    }\n  };\n  var _useState3 = (0, _react.useState)(getButtonIcon()),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    buttonIcon = _useState4[0],\n    setButtonIcon = _useState4[1];\n  var buttonY = (0, _react.useRef)(new _reactNative.Animated.Value(margin ? -margin : -TOP_POSITION));\n  var opacity = (0, _react.useRef)(new _reactNative.Animated.Value(1));\n  var getPositionAnimation = function getPositionAnimation() {\n    var toValue = state === 0 ? TOP_POSITION : -margin || -TOP_POSITION;\n    return {\n      toValue: toValue,\n      tension: 30,\n      friction: 8,\n      useNativeDriver: true\n    };\n  };\n  var getOpacityAnimation = function getOpacityAnimation() {\n    return {\n      toValue: disabled ? disabledOpacity : 1,\n      duration: 500,\n      useNativeDriver: true\n    };\n  };\n  var animatePosition = function animatePosition() {\n    var animationData = getPositionAnimation();\n    _reactNative.Animated.spring(buttonY.current, (0, _extends2.default)({}, animationData)).start();\n  };\n  var animateOpacity = function animateOpacity() {\n    var animationData = getOpacityAnimation();\n    _reactNative.Animated.timing(opacity.current, (0, _extends2.default)({}, animationData)).start();\n  };\n  var getTodayDate = function getTodayDate() {\n    return (0, _interface.toMarkingFormat)(new _xdate.default());\n  };\n  var onPress = (0, _react.useCallback)(function () {\n    setDate(getTodayDate(), _commons.UpdateSources.TODAY_PRESS);\n  }, [setDate]);\n  return _react.default.createElement(_reactNative.Animated.View, {\n    style: [style.current.todayButtonContainer, {\n      transform: [{\n        translateY: buttonY.current\n      }]\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, _react.default.createElement(_reactNative.TouchableOpacity, {\n    style: [style.current.todayButton, propsStyle],\n    onPress: onPress,\n    disabled: disabled,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNative.Animated.Image, {\n    style: [style.current.todayButtonImage, {\n      opacity: opacity.current\n    }],\n    source: buttonIcon,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(_reactNative.Animated.Text, {\n    allowFontScaling: false,\n    style: [style.current.todayButtonText, {\n      opacity: opacity.current\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, today.current)));\n};\nvar _default = (0, _react.forwardRef)(TodayButton);\nexports.default = _default;","map":{"version":3,"names":["TOP_POSITION","DOWN_ICON","require","UP_ICON","TodayButton","props","ref","useImperativeHandle","disable","shouldDisable","margin","disabledOpacity","theme","propsStyle","style","useContext","Context","date","setDate","useState","disabled","setDisabled","useRef","styleConstructor","state","isToday","isPastDate","shouldShow","useEffect","setButtonIcon","getButtonIcon","animatePosition","animateOpacity","getFormattedLabel","todayStr","getDefaultLocale","today","todayString","charAt","toUpperCase","slice","buttonIcon","buttonY","Animated","Value","opacity","getPositionAnimation","toValue","tension","friction","useNativeDriver","getOpacityAnimation","duration","animationData","spring","current","start","timing","getTodayDate","toMarkingFormat","XDate","onPress","useCallback","UpdateSources","TODAY_PRESS","todayButtonContainer","transform","translateY","todayButton","todayButtonImage","todayButtonText","forwardRef"],"sources":["E:/work/PK WORK/calendar-event-app-master/calendar-event-app-master/node_modules/react-native-calendars/src/expandableCalendar/Context/todayButton.js"],"sourcesContent":["import XDate from 'xdate';\nimport React, { forwardRef, useImperativeHandle, useEffect, useRef, useState, useContext, useCallback } from 'react';\nimport { Animated, TouchableOpacity } from 'react-native';\nimport { getDefaultLocale } from '../../services';\nimport { toMarkingFormat } from '../../interface';\nimport { isToday, isPastDate } from '../../dateutils';\nimport { UpdateSources, todayString } from '../commons';\nimport styleConstructor from '../style';\nimport Context from './index';\nconst TOP_POSITION = 65;\nconst DOWN_ICON = require('../../img/down.png');\nconst UP_ICON = require('../../img/up.png');\nconst TodayButton = (props, ref) => {\n    useImperativeHandle(ref, () => ({\n        disable: (shouldDisable) => {\n            disable(shouldDisable);\n        }\n    }));\n    const { margin = 0, disabledOpacity = 0.3, theme, style: propsStyle, } = props;\n    const { date, setDate } = useContext(Context);\n    const [disabled, setDisabled] = useState(false);\n    const style = useRef(styleConstructor(theme));\n    const state = isToday(date) ? 0 : isPastDate(date) ? -1 : 1;\n    const shouldShow = state !== 0;\n    /** Effects */\n    useEffect(() => {\n        if (shouldShow) {\n            setButtonIcon(getButtonIcon());\n        }\n        animatePosition();\n    }, [state]);\n    useEffect(() => {\n        if (!shouldShow) {\n            return;\n        }\n        animateOpacity();\n    }, [disabled]);\n    const disable = (shouldDisable) => {\n        if (shouldDisable !== disabled) {\n            setDisabled(shouldDisable);\n        }\n    };\n    /** Label */\n    const getFormattedLabel = () => {\n        const todayStr = getDefaultLocale().today || todayString;\n        const today = todayStr.charAt(0).toUpperCase() + todayStr.slice(1);\n        return today;\n    };\n    const today = useRef(getFormattedLabel());\n    /** Icon */\n    const getButtonIcon = () => {\n        if (shouldShow) {\n            return state === 1 ? UP_ICON : DOWN_ICON;\n        }\n    };\n    const [buttonIcon, setButtonIcon] = useState(getButtonIcon());\n    /** Animations */\n    const buttonY = useRef(new Animated.Value(margin ? -margin : -TOP_POSITION));\n    const opacity = useRef(new Animated.Value(1));\n    const getPositionAnimation = () => {\n        const toValue = state === 0 ? TOP_POSITION : -margin || -TOP_POSITION;\n        return {\n            toValue,\n            tension: 30,\n            friction: 8,\n            useNativeDriver: true\n        };\n    };\n    const getOpacityAnimation = () => {\n        return {\n            toValue: disabled ? disabledOpacity : 1,\n            duration: 500,\n            useNativeDriver: true\n        };\n    };\n    const animatePosition = () => {\n        const animationData = getPositionAnimation();\n        Animated.spring(buttonY.current, {\n            ...animationData\n        }).start();\n    };\n    const animateOpacity = () => {\n        const animationData = getOpacityAnimation();\n        Animated.timing(opacity.current, {\n            ...animationData\n        }).start();\n    };\n    const getTodayDate = () => {\n        return toMarkingFormat(new XDate());\n    };\n    const onPress = useCallback(() => {\n        setDate(getTodayDate(), UpdateSources.TODAY_PRESS);\n    }, [setDate]);\n    return (<Animated.View style={[style.current.todayButtonContainer, { transform: [{ translateY: buttonY.current }] }]}>\n      <TouchableOpacity style={[style.current.todayButton, propsStyle]} onPress={onPress} disabled={disabled}>\n        <Animated.Image style={[style.current.todayButtonImage, { opacity: opacity.current }]} source={buttonIcon}/>\n        <Animated.Text allowFontScaling={false} style={[style.current.todayButtonText, { opacity: opacity.current }]}>\n          {today.current}\n        </Animated.Text>\n      </TouchableOpacity>\n    </Animated.View>);\n};\nexport default forwardRef(TodayButton);\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}