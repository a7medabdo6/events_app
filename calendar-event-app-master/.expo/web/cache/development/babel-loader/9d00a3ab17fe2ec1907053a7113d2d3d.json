{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _xdate = _interopRequireDefault(require(\"xdate\"));\nvar offset = 100;\nfunction buildEvent(column, left, width, dayStart) {\n  var startTime = (0, _xdate.default)(column.start);\n  var endTime = column.end ? (0, _xdate.default)(column.end) : (0, _xdate.default)(startTime).addHours(1);\n  var dayStartTime = (0, _xdate.default)(startTime).clearTime();\n  column.top = (dayStartTime.diffHours(startTime) - dayStart) * offset;\n  column.height = startTime.diffHours(endTime) * offset;\n  column.width = width;\n  column.left = left;\n  return column;\n}\nfunction collision(a, b) {\n  return a.end > b.start && a.start < b.end;\n}\nfunction expand(ev, column, columns) {\n  var colSpan = 1;\n  for (var i = column + 1; i < columns.length; i++) {\n    var col = columns[i];\n    for (var j = 0; j < col.length; j++) {\n      var ev1 = col[j];\n      if (collision(ev, ev1)) {\n        return colSpan;\n      }\n    }\n    colSpan++;\n  }\n  return colSpan;\n}\nfunction pack(columns, width, calculatedEvents, dayStart) {\n  var colLength = columns.length;\n  for (var i = 0; i < colLength; i++) {\n    var col = columns[i];\n    for (var j = 0; j < col.length; j++) {\n      var colSpan = expand(col[j], i, columns);\n      var L = i / colLength * width;\n      var W = width * colSpan / colLength - 10;\n      calculatedEvents.push(buildEvent(col[j], L, W, dayStart));\n    }\n  }\n}\nfunction populateEvents(events, screenWidth, dayStart) {\n  var lastEnd;\n  var columns;\n  var calculatedEvents = [];\n  events = events.map(function (ev, index) {\n    return (0, _extends2.default)({}, ev, {\n      index: index\n    });\n  }).sort(function (a, b) {\n    if (a.start < b.start) return -1;\n    if (a.start > b.start) return 1;\n    if (a.end < b.end) return -1;\n    if (a.end > b.end) return 1;\n    return 0;\n  });\n  columns = [];\n  lastEnd = null;\n  events.forEach(function (ev) {\n    if (lastEnd !== null && ev.start >= lastEnd) {\n      pack(columns, screenWidth, calculatedEvents, dayStart);\n      columns = [];\n      lastEnd = null;\n    }\n    var placed = false;\n    for (var i = 0; i < columns.length; i++) {\n      var col = columns[i];\n      if (!collision(col[col.length - 1], ev)) {\n        col.push(ev);\n        placed = true;\n        break;\n      }\n    }\n    if (!placed) {\n      columns.push([ev]);\n    }\n    if (lastEnd === null || ev.end > lastEnd) {\n      lastEnd = ev.end;\n    }\n  });\n  if (columns.length > 0) {\n    pack(columns, screenWidth, calculatedEvents, dayStart);\n  }\n  return calculatedEvents;\n}\nvar _default = populateEvents;\nexports.default = _default;","map":{"version":3,"names":["offset","buildEvent","column","left","width","dayStart","startTime","XDate","start","endTime","end","addHours","dayStartTime","clearTime","top","diffHours","height","collision","a","b","expand","ev","columns","colSpan","i","length","col","j","ev1","pack","calculatedEvents","colLength","L","W","push","populateEvents","events","screenWidth","lastEnd","map","index","sort","forEach","placed"],"sources":["E:/work/PK WORK/calendar-event-app-master/calendar-event-app-master/node_modules/react-native-calendars/src/timeline/Packer.js"],"sourcesContent":["// @flow\nimport XDate from 'xdate';\n\nconst offset = 100;\n\nfunction buildEvent(column, left, width, dayStart) {\n  const startTime = XDate(column.start);\n  const endTime = column.end ? XDate(column.end) : XDate(startTime).addHours(1);\n\n  const dayStartTime = XDate(startTime).clearTime();\n\n  column.top = (dayStartTime.diffHours(startTime) - dayStart) * offset;\n  column.height = startTime.diffHours(endTime) * offset;\n  column.width = width;\n  column.left = left;\n  return column;\n}\n\nfunction collision(a, b) {\n  return a.end > b.start && a.start < b.end;\n}\n\nfunction expand(ev, column, columns) {\n  let colSpan = 1;\n\n  for (let i = column + 1; i < columns.length; i++) {\n    let col = columns[i];\n    for (let j = 0; j < col.length; j++) {\n      let ev1 = col[j];\n      if (collision(ev, ev1)) {\n        return colSpan;\n      }\n    }\n    colSpan++;\n  }\n\n  return colSpan;\n}\n\nfunction pack(columns, width, calculatedEvents, dayStart) {\n  let colLength = columns.length;\n\n  for (let i = 0; i < colLength; i++) {\n    let col = columns[i];\n    for (let j = 0; j < col.length; j++) {\n      const colSpan = expand(col[j], i, columns);\n      const L = (i / colLength) * width;\n      const W = (width * colSpan) / colLength - 10;\n\n      calculatedEvents.push(buildEvent(col[j], L, W, dayStart));\n    }\n  }\n}\n\nfunction populateEvents(events, screenWidth, dayStart) {\n  let lastEnd;\n  let columns;\n  let calculatedEvents = [];\n\n  events = events\n    .map((ev, index) => ({...ev, index: index}))\n    .sort(function (a, b) {\n      if (a.start < b.start) return -1;\n      if (a.start > b.start) return 1;\n      if (a.end < b.end) return -1;\n      if (a.end > b.end) return 1;\n      return 0;\n    });\n\n  columns = [];\n  lastEnd = null;\n\n  events.forEach(function (ev) {\n    if (lastEnd !== null && ev.start >= lastEnd) {\n      pack(columns, screenWidth, calculatedEvents, dayStart);\n      columns = [];\n      lastEnd = null;\n    }\n\n    let placed = false;\n    for (let i = 0; i < columns.length; i++) {\n      let col = columns[i];\n      if (!collision(col[col.length - 1], ev)) {\n        col.push(ev);\n        placed = true;\n        break;\n      }\n    }\n\n    if (!placed) {\n      columns.push([ev]);\n    }\n\n    if (lastEnd === null || ev.end > lastEnd) {\n      lastEnd = ev.end;\n    }\n  });\n\n  if (columns.length > 0) {\n    pack(columns, screenWidth, calculatedEvents, dayStart);\n  }\n  return calculatedEvents;\n}\n\nexport default populateEvents;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}